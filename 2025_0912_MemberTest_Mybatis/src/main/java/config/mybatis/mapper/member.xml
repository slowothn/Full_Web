<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="member">

	<!-- selectList -->
 <select id="member_list" resultType="db.vo.MemberVo">
 	select * from member order by mem_idx
 </select>
 
	<!-- selectOne: mem_idx로 하나 조회 -->
 <select id="member_one_mem_idx" parameterType="int" resultType="member">
 	select * from member where mem_idx = #{ mem_idx }
 </select>
 
	<!-- selectOne: mem_id로 하나 조회 -->
 <select id="member_one_mem_id"  parameterType="String"  resultType="member">
 	select * from member where mem_id = #{ mem_id }
 </select>
 
 	<!-- 조건별 조회 -->
 <select id="member.member_list_condition" resultType="member" parameterType="Map">
 	select * from member
 	<trim prefix="where" prefixOverrides="or">
 		<if test="mem_name!=null">
 			mem_name like '%' || #{ mem_name } || '%'
 		</if>
 		<if test="mem_id!=null">
 			or mem_id like '%' || #{ mem_id } || '%'
 		</if>
 	</trim>
 	order by mem_idx
 </select>
 
 	<!-- insert -->
  <insert id="member_insert" parameterType="db.vo.MemberVo">
  	insert into member values( seq_member_mem_idx.nextVal,
  	 	#{ mem_name }, #{ mem_id }, #{ mem_pwd },
  	 	#{ mem_email }, #{ mem_zipcode }, #{ mem_addr },
  	 	#{ mem_ip }, sysdate, '일반' )
  </insert>
  
  	<!-- delete -->
  <delete id="member_delete" parameterType="int">
  	delete from member where mem_idx = #{ mem_idx }
  </delete>
  
  	<!-- update -->
  <update id="member_update" parameterType="member">
  	update member set mem_name = #{ mem_name }, mem_id=#{ mem_id },
  	 mem_pwd=#{ mem_pwd },mem_email=#{mem_email}, mem_zipcode=#{ mem_zipcode },
  	 mem_addr= #{ mem_addr },mem_ip= #{ mem_ip },mem_grade=#{ mem_grade } where mem_idx=#{mem_idx}
  </update>

</mapper>












