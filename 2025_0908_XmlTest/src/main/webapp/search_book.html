<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<!-- Bootstrap3.x ver -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

<style type="text/css">
  #box{
     width: 1000px;
     margin: auto;
     margin-top: 50px;
  }
  #title{
     text-align: center;
     font-size: 28px;
     font-weight: bold;
     color: navy;
     text-shadow: 1px 1px 1px black;
     margin-bottom: 30px;
  }
</style>

<script type="text/javascript">
  function find(){
	             // document.getElementById("b_name").value
	  let b_name = $("#b_name").val().trim(); 
	  let page   = $("#page").val();
	  let display= $("#display").val();
	  
	  if(b_name==""){
		  alert("조회할 도서명을 입력하세요");
		  $("#b_name").val("");
		  $("#b_name").focus();
		  return;
	  }
	  
	  //검색할 시작위치
	  let start = (page-1) * display + 1;
	  
	  //Ajax로 요청
	  $.ajax({
		  url		:	"book/list.do", //BookListAction
		  data		:	{"b_name":b_name, "start": start , "display": display },
		  success	:	function(res_data){
			  
			  $("#disp").html(res_data);
			  
		  },
		  error		:	function(err){
			  alert(err.responseText);
		  }
		  
	  });
	  
	  
  }

</script>


</head>
<body>
  <div id="box">
     <h1 id="title">:도서조회:</h1>
     
     <form class="form-inline">
	     <div style="text-align: center; ">
	        도서명 : <input class="form-control"  id="b_name">
	                 <input class="btn btn-primary" type="button" value="검색"
	                        onclick="find();"> 
	        
	        
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	        페이지 : <select class="form-control" id="page">
	                    <option value="1">1</option>
	                    <option value="2">2</option>
	                    <option value="3">3</option>
	                    <option value="4">4</option>
	                    <option value="5">5</option>
	                 </select>
	        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;         
	        페이당목록수: <select class="form-control" id="display">
	                         <option value="10">10개씩보기</option>
	                         <option value="20">20개씩보기</option>
	                         <option value="30">30개씩보기</option>
	                         <option value="40">40개씩보기</option>
	                         <option value="50">50개씩보기</option>
	                      </select>         
	     </div>
     </form>
     
     <hr>
     <!--  결과 출력 창 -->
     <div id="disp"></div>
     
  </div>
</body>
</html>